<div class="header" *ngIf="gist">
  <div class="gist-details">
    <img [src]="gist.owner.avatar_url" [alt]="gist.owner.login || 'User avatar'" class="avatar" *ngIf="gist?.owner?.avatar_url" />
    <div class="gist-text">
      <p class="name">
        {{ gist.owner.login }} / <b>{{ getFirstFileName() }}</b>
      </p>
      <p class="updated">{{ gist.updated_at | timeAgo }}</p>
      <p class="description">{{ gist.description }}</p>
    </div>
  </div>
  <div class="fork-star">
    <div class="group">
      <div class="inner-group">
        <fa-icon [icon]="faCodeFork" class="fa-1x"></fa-icon>
        <p>Forks</p>
      </div>
      <p class="count">{{ gist.forks?.length }}</p>
    </div>

    <div class="group">
      <div class="inner-group">
        <fa-icon [icon]="faStar" class="fa-1x"></fa-icon>
        <p>Stars</p>
      </div>
      <p class="count">0</p>
    </div>
  </div>
</div>

<div class="code-container" *ngFor="let file of gistFiles">
  <p class="filename">{{ file.filename }}</p>
  <ngx-codemirror
    [(ngModel)]="file.content"
    [options]="{
      lineNumbers: true,
      mode: 'markdown',
      readOnly: 'nocursor',
      scrollbarStyle: 'null'
    }"
  ></ngx-codemirror>
</div>
